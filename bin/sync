#/bin/sh
#spkg module for syncing
if [ $2 = file ]; then
 pkgurl=$3
 dest=$4
 pkgname=$(basename $dest)
 cd $(dirname $dest)
 wget -O $(basename $dest) $pkgurl
 echo make file executable y/n ?
 read execque
 if [ $execque = y ]; then
  echo $(tput setaf 5) "Making script executable...." $(tput sgr0)
  chmod +x $pkgname
 fi
 echo $(tput setaf 6) "Adding config file....." $(tput sgr0)
 cd ~/.config/spkg/packages
 touch $pkgname
 echo $pkgurl"/url" > $pkgname
 echo $dest"/destination" >> $pkgname
 echo $(tput setaf 2) "Done!" $(tput sgr0)
else
 if [ -z "$3" ]; then
  pkgurl=$2
  echo What is the name that you want to call that script"("suggested: $(basename $pkgurl)")"?
  read pkgname
  spkg sync $pkgurl $pkgname
 else
  pkgurl=$2
  pkgname=$3
  cd $pkgdir
  wget -O $pkgname $pkgurl
  echo $(tput setaf 5) "Making script executable...." $(tput sgr0)
  chmod +x $pkgname
  echo $(tput setaf 6) "Adding config file....." $(tput sgr0)
  cd ~/.config/spkg/packages
  touch $pkgname
  echo $pkgurl"/url" > $pkgname
  echo $(tput setaf 2) "Done!" $(tput sgr0)
 fi
fi
